!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=function(){function a(){d(this,a)}return e(a,[{key:"generateUUID",value:function(){var a=window.crypto||window.msCrypto;if(a){var b=new Uint32Array(4);a.getRandomValues(b);var c=-1;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){c++;var d=b[c>>3]>>c%8*4&15,e="x"==a?d:3&d|8;return e.toString(16)})}var d=(new Date).getTime();window.performance&&"function"==typeof window.performance.now&&(d+=performance.now());var e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=(d+16*Math.random())%16|0;return d=Math.floor(d/16),("x"==a?b:3&b|8).toString(16)});return e}},{key:"strip",value:function(a){var b=document.implementation.createHTMLDocument("New").body;return b.innerHTML=a,b.textContent||b.innerText||""}},{key:"loadXMLString",value:function(a,b){var c;if(window.DOMParser){var d=new DOMParser;c=d.parseFromString(a,"text/"+b)}else c=new ActiveXObject("Microsoft.XMLDOM"),c.async=!1,c.loadXML(a);return c}},{key:"downloadSNData",value:function(a,b){var c=null,d=function(a){var b=new Blob([a],{type:"text/json"});return null!==c&&window.URL.revokeObjectURL(c),c=window.URL.createObjectURL(b)},e=d(JSON.stringify(a,null,2)),f=document.createElement("a");f.setAttribute("download",b),f.href=e,document.body.appendChild(f),f.click(),document.body.removeChild(f)}},{key:"convertENEXDatatoSN",value:function(a){function b(a){return j.filter(function(b){return b.content.title==a})[0]}function c(a){j.push(a)}var d,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"evernote",g=this.loadXMLString(a,"xml"),h=g.getElementsByTagName("note"),i=[],j=[];f&&(d={uuid:this.generateUUID(),content_type:"Tag",content:{title:f,references:[]}});var k=!0,l=!1,m=void 0;try{for(var n,o=h[Symbol.iterator]();!(k=(n=o.next()).done);k=!0){var p=n.value,q=p.getElementsByTagName("title")[0].childNodes[0].nodeValue,r=p.getElementsByTagName("created")[0].childNodes[0].nodeValue,s=p.getElementsByTagName("updated"),t=s.length?s[0].childNodes[0].nodeValue:null,u=p.getElementsByTagName("content")[0].childNodes[0].nodeValue,v=this.loadXMLString(u,"html"),w=v.getElementsByTagName("en-note")[0].innerHTML;w=w.replace(/<br[^>]*>/g,"\n\n");var x=e?this.strip(w):w,y={created_at:moment(r).toDate(),updated_at:t?moment(t).toDate():moment(r).toDate(),uuid:this.generateUUID(),content_type:"Note",content:{title:q,text:x,references:[]}};d&&d.content.references.push({content_type:"Note",uuid:y.uuid});var z=p.getElementsByTagName("tag"),A=!0,B=!1,C=void 0;try{for(var D,E=z[Symbol.iterator]();!(A=(D=E.next()).done);A=!0){var F=D.value,G=F.childNodes[0].nodeValue,H=b(G);H||(H={uuid:this.generateUUID(),content_type:"Tag",created_at:new Date,updated_at:new Date,content:{title:G,references:[]}},c(H)),y.content.references.push({content_type:H.content_type,uuid:H.uuid}),H.content.references.push({content_type:y.content_type,uuid:y.uuid})}}catch(a){B=!0,C=a}finally{try{!A&&E.return&&E.return()}finally{if(B)throw C}}i.push(y)}}catch(a){l=!0,m=a}finally{try{!k&&o.return&&o.return()}finally{if(l)throw m}}var I=i.concat(j);d&&I.push(d);var J={items:I};return J}},{key:"convertPlaintextFiles",value:function(a,b){var c=0,d=[],e=function(){var f=a[c];c++;var g=new FileReader;g.onload=function(g){var h=g.target.result,i={created_at:new Date,updated_at:new Date,uuid:this.generateUUID(),content_type:"Note",content:{title:f.name.split(".")[0],text:h,references:[]}};d.push(i),c<a.length?e():b({items:d})}.bind(this),g.readAsText(f)}.bind(this);e()}}]),a}();window.SNTools=new f},{}]},{},[1]);